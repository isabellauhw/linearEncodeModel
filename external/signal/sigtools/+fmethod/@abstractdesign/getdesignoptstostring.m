function [s, fn] = getdesignoptstostring(this)
%GETDESIGNOPTSTOSTRING Get field names and values that we want displayed by
%the info method.
%   Output fn is a cell array containing option names that we want to display in
%   the string generated by the info method.
%   Output s is a structure containing the corresponding design option values
%   that we want to display in the string generated by the info method.
    
%   Copyright 1999-2015 The MathWorks, Inc.

% Remove hidden options, use designopts which already has the information
% filtered
fn = fieldnames(designopts(this));

% Get the property names after the call to fieldnames, in case
% 'SystemObject' has been added
s = get(this);

% Remove Filter Structure
fn = setdiff(fn,'FilterStructure');

% Do not show System object if comming from a filter desiner object
if this.FromFilterDesigner || isfromdesignfilt(this)
  fn = setdiff(fn,'SystemObject');
end

[s, fn] = thisgetdesignoptstostring(this, s, fn);